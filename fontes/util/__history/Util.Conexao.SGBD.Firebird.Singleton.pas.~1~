{
  Classe utilitária
  Declara o objeto que representa a conexão com o DB Firebird 2.5
}

unit Util.Conexao.SGBD.Firebird;

interface

uses
  SqlExpr, SysUtils, Util.Conexao.ConectarDB;

type
  TUtilConexaoSGBDFirebirdSingleton = class sealed
  private // não pode ser strict private
    class var
      _Conexao: TSQLConnection;
  public
    class function Instance(): TSQLConnection;
  end;

implementation



class function TUtilConexaoSGBDFirebirdSingleton.Instance: TSQLConnection;
begin
  if (not ( Assigned ( _Conexao ) ) ) then
  begin
    _Conexao:= TSQLConnection.Create( nil );

    TUtilConexaoConectarDB.Conectar( _Conexao );
  end;

  Result:= _Conexao;
end;


initialization


finalization
  // Destroi o objeto Singleton da conexão
  if ( Assigned ( TUtilConexaoSGBDFirebirdSingleton._Conexao )  ) then
    FreeAndNil( TUtilConexaoSGBDFirebirdSingleton._Conexao )

end.
